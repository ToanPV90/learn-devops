# [mvn](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html)

[digitalocean.com » docs](https://www.digitalocean.com/community/tutorials/maven-commands-options-cheat-sheet)

## Examples

### archetype:generate | Create a project

[Create a project](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#creating-a-project)

```bash
mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false
```

### package | Build the project

[Build the project](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#build-the-project)

The following creates a `jar/war` depending on the `<packaging>` in `pom.xml` in the `target` directory

```bash
mvn package
```

To run `mvn package` in debug mode

```bash
mvn -X package
```

To package the project skipping the unit tests

```bash
mvn -Dmaven.test.skip=true package
```

### clean | Clean the project

Cleans the maven project by deleting the target directory (files generated by previous build)

```bash
mvn clean
```

[To prevent Maven from downloading artifacts every time?](https://stackoverflow.com/questions/21990854/how-do-i-prevent-maven-from-downloading-artifacts-every-time)

```bash
# To remove target folder and install all the dependencies, ensure that the project is build using .m2 folder cache i.e. offline
mvn clean install -o
```

### install | Install the project

Builds the project and installs resulting artifacts (JAR, WAR, etc) into your local Maven repository

```bash
mvn install
```

### deploy | Deploy the project

This command deploys the artifact to the remote repository

```bash
mvn deploy
```

[Publish third party artifacts](https://docs.aws.amazon.com/codeartifact/latest/ug/maven-mvn.html)

[stackoverflow.com » why-cant-i-deploy-from-my-local-repository-to-a-remote-maven-repositor](https://stackoverflow.com/questions/14223221/why-cant-i-deploy-from-my-local-repository-to-a-remote-maven-repository)

Let's say we want to upload junit dependency with following structure

```bash
$ tree ~/.m2/repository/junit/junit/4.12 
~/.m2/repository/junit/junit/4.12
├── _remote.repositories
├── junit-4.12.jar
├── junit-4.12.jar.sha1
├── junit-4.12.pom
└── junit-4.12.pom.sha1
```

```bash
# The remote repository is AWS codeartifact
# Get the <repository_id> and Durl from AWS codeartifact
# https://docs.aws.amazon.com/codeartifact/latest/ug/maven-mvn.html
# https://stackoverflow.com/questions/14223221/why-cant-i-deploy-from-my-local-repository-to-a-remote-maven-repository, jar and pom should be present in another folder say tmp
 mvn deploy:deploy-file \
-DgroupId=junit \
-DartifactId=junit \
-Dversion=4.12 \
-Dpackaging=jar \
-Dfile=./tmp/junit-4.12.jar \
-DpomFile=./tmp/junit-4.12.pom \
-DrepositoryId=<repository_id> \
-Durl=<https://my_domain-111122223333.d.codeartifact.region.amazonaws.com/maven/repo-name/>
```

### compile | Compile the project

Executes Maven build phase called 'Compile' in quiet (no output except errors) and offline mode (using local repo cache).

```bash
mvn -q -o compile
```

Compiles all the java source classes of your maven project

```bash
mvn compile
```

### test | Run unit tests

Runs unit tests against compiled source code using a suitable unit testing framework if available 

```bash
mvn test
```

### validate | Validate the project

Validates if the project structure is correct. Also makes sure all dependencies have been downloaded and are available in the local repository

```bash
mvn validate
```

### site | Generate reports

To get basic information about your project is execute the following command

```bash
mvn site
```

### surefire-report:report

To generate reports

```bash
mvn surefire-report:report
```

### dependency:tree | Create a dependency tree

[mvnrepository.com](https://mvnrepository.com/artifact/org.tomlj/tomlj/1.0.0)

Create a dependency tree

```bash
wget https://repo1.maven.org/maven2/org/tomlj/tomlj/1.0.0/tomlj-1.0.0.pom
```

```bash
mvn dependency:tree -DoutputType=text -DoutputFile=dependencies.txt -DremoteRepositories=https://repo1.maven.org/maven2 -f tomlj-1.0.0.pom
```

```bash
$ cat dependencies.txt                                         
org.tomlj:tomlj:pom:1.0.0
+- org.antlr:antlr4-runtime:jar:4.7.2:compile
\- com.google.code.findbugs:jsr305:jar:3.0.2:compile
```

### dependency:copy-dependencies | Download all dependencies

Download all dependencies using a pom file to a directory `./dependencies`

```bash
mvn dependency:copy-dependencies -DoutputDirectory=./dependencies -f tomlj-1.0.0.pom
```

### dependency:copy | Copy a specific artifact

To copy a specific artifact to current directory

```bash
mvn dependency:copy -Dartifact=org.tomlj:tomlj:1.0.0 -DoutputDirectory=./
```

### dependency:get | Download a specific artifact

To download a specific artifact to local repository

```bash
mvn dependency:get -Dartifact=org.tomlj:tomlj:1.0.0
mvn dependency:get -Dartifact=com.google.code.findbugs:jsr305:3.0.2
```


